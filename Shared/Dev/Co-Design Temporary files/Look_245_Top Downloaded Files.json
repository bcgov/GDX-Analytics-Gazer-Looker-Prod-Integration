{
  "content_metadata_id": "431",
  "id": "245",
  "title": "Top Downloaded Files",
  "user_id": "13",
  "created_at": "2019-01-09 19:27:57 UTC",
  "deleted_at": null,
  "deleter_id": null,
  "description": "A table of Download File, Download count, and percent of total downloads, ordered by Download Click Count.\n\nCalculates and \"Other\" sum in the 20th row.",
  "favorite_count": 0,
  "is_run_on_load": true,
  "last_accessed_at": "2019-01-22 01:52:56 UTC",
  "last_updater_id": "35",
  "query_id": "42257",
  "short_url": "/looks/245",
  "updated_at": "2019-01-22 01:54:28 UTC",
  "view_count": 1,
  "query": {
    "id": "42257",
    "view": "clicks",
    "fields": [
      "clicks.target_url",
      "clicks.download_click_count"
    ],
    "pivots": null,
    "fill_fields": null,
    "filters": {
      "clicks.click_type": "download"
    },
    "filter_expression": null,
    "sorts": [
      "clicks.download_click_count desc"
    ],
    "limit": "20",
    "column_limit": null,
    "total": true,
    "row_total": null,
    "subtotals": null,
    "vis_config": {
      "show_view_names": true,
      "show_row_numbers": true,
      "truncate_column_names": false,
      "hide_totals": true,
      "hide_row_totals": false,
      "series_labels": {
        "clicks.download_click_count": "Downloads",
        "clicks.target_url": "Downloaded File",
        "clicks.session_count": "Sessions"
      },
      "table_theme": "editable",
      "limit_displayed_rows": false,
      "limit_displayed_rows_values": {
        "show_hide": "hide",
        "first_last": "first",
        "num_rows": 0
      },
      "enable_conditional_formatting": false,
      "conditional_formatting": [
        {
          "type": "low to high",
          "value": null,
          "background_color": null,
          "font_color": null,
          "palette": {
            "name": "Red to Yellow to Green",
            "colors": [
              "#F36254",
              "#FCF758",
              "#4FBC89"
            ]
          },
          "bold": false,
          "italic": false,
          "strikethrough": false,
          "fields": null
        }
      ],
      "conditional_formatting_include_totals": false,
      "conditional_formatting_include_nulls": false,
      "type": "table",
      "series_types": {
      },
      "hidden_fields": [
        "clicks.target_url",
        "clicks.download_click_count"
      ],
      "y_axes": [

      ]
    },
    "filter_config": {
      "clicks.click_type": [
        {
          "type": "=",
          "values": [
            {
              "constant": "download"
            },
            {
            }
          ],
          "id": 4,
          "error": false
        }
      ]
    },
    "visible_ui_sections": null,
    "slug": "TJZ7Kd7",
    "client_id": "fF5S0WRG3Kw5QjqmJqvovm",
    "share_url": "https://analytics.gov.bc.ca/x/fF5S0WRG3Kw5QjqmJqvovm",
    "expanded_share_url": "https://analytics.gov.bc.ca/explore/snowplow_web_block/clicks?fields=clicks.target_url,clicks.download_click_count&f[clicks.click_type]=download&sorts=clicks.download_click_count+desc&limit=20&total=on&query_timezone=America%2FVancouver&vis=%7B%22show_view_names%22%3Atrue%2C%22show_row_numbers%22%3Atrue%2C%22truncate_column_names%22%3Afalse%2C%22hide_totals%22%3Atrue%2C%22hide_row_totals%22%3Afalse%2C%22series_labels%22%3A%7B%22clicks.download_click_count%22%3A%22Downloads%22%2C%22clicks.target_url%22%3A%22Downloaded+File%22%2C%22clicks.session_count%22%3A%22Sessions%22%7D%2C%22table_theme%22%3A%22editable%22%2C%22limit_displayed_rows%22%3Afalse%2C%22limit_displayed_rows_values%22%3A%7B%22show_hide%22%3A%22hide%22%2C%22first_last%22%3A%22first%22%2C%22num_rows%22%3A0%7D%2C%22enable_conditional_formatting%22%3Afalse%2C%22conditional_formatting%22%3A%5B%7B%22type%22%3A%22low+to+high%22%2C%22value%22%3Anull%2C%22background_color%22%3Anull%2C%22font_color%22%3Anull%2C%22palette%22%3A%7B%22name%22%3A%22Red+to+Yellow+to+Green%22%2C%22colors%22%3A%5B%22%23F36254%22%2C%22%23FCF758%22%2C%22%234FBC89%22%5D%7D%2C%22bold%22%3Afalse%2C%22italic%22%3Afalse%2C%22strikethrough%22%3Afalse%2C%22fields%22%3Anull%7D%5D%2C%22conditional_formatting_include_totals%22%3Afalse%2C%22conditional_formatting_include_nulls%22%3Afalse%2C%22type%22%3A%22table%22%2C%22series_types%22%3A%7B%7D%2C%22hidden_fields%22%3A%5B%22clicks.target_url%22%2C%22clicks.download_click_count%22%5D%2C%22y_axes%22%3A%5B%5D%7D&filter_config=%7B%22clicks.click_type%22%3A%5B%7B%22type%22%3A%22%3D%22%2C%22values%22%3A%5B%7B%22constant%22%3A%22download%22%7D%2C%7B%7D%5D%2C%22id%22%3A4%2C%22error%22%3Afalse%7D%5D%7D&dynamic_fields=%5B%7B%22table_calculation%22%3A%22downloads%22%2C%22label%22%3A%22Downloads%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+traffic+to+that+page%5Cn+++%2C%24%7Bclicks.download_click_count%7D%5Cn%23+For+the+last+row%2C+display+total+traffic+minus+traffic+from+all+rows+above+this+one%5Cn+++%2C+%24%7Bclicks.download_click_count%3Atotal%7D+-+sum%28+if%28row%28%29%3D+max%28row%28%29%29+%2C+0+%2C+%24%7Bclicks.download_click_count%7D%29+%29%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3A%22decimal_0%22%2C%22_kind_hint%22%3A%22measure%22%2C%22_type_hint%22%3A%22number%22%7D%2C%7B%22table_calculation%22%3A%22of_total_downloads%22%2C%22label%22%3A%22%25+of+Total+Downloads%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+traffic+to+that+page%5Cn+++%2C%24%7Bclicks.download_click_count%7D%2F%24%7Bclicks.download_click_count%3Atotal%7D%5Cn%23+For+the+last+row%2C+display+total+traffic+minus+traffic+from+all+rows+above+this+one%5Cn+++%2C+%28%24%7Bclicks.download_click_count%3Atotal%7D+-+sum%28+if%28row%28%29%3D+max%28row%28%29%29+%2C+0+%2C+%24%7Bclicks.download_click_count%7D%29%29%29+%2F%24%7Bclicks.download_click_count%3Atotal%7D+%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3A%22percent_2%22%2C%22_kind_hint%22%3A%22measure%22%2C%22_type_hint%22%3A%22number%22%7D%2C%7B%22table_calculation%22%3A%22downloaded_file%22%2C%22label%22%3A%22Downloaded+File%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+landing+page+URL%5Cn+++%2C%24%7Bclicks.target_url%7D%5Cn%23+For+the+last+row%2C+display+%5C%22Other%5C%22%5Cn+++%2C+%5C%22Other%5C%22%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3Anull%2C%22_kind_hint%22%3A%22dimension%22%2C%22_type_hint%22%3A%22string%22%7D%5D&origin=share-expanded",
    "url": "/explore/snowplow_web_block/clicks?fields=clicks.target_url,clicks.download_click_count&f[clicks.click_type]=download&sorts=clicks.download_click_count+desc&limit=20&total=on&query_timezone=America%2FVancouver&vis=%7B%22show_view_names%22%3Atrue%2C%22show_row_numbers%22%3Atrue%2C%22truncate_column_names%22%3Afalse%2C%22hide_totals%22%3Atrue%2C%22hide_row_totals%22%3Afalse%2C%22series_labels%22%3A%7B%22clicks.download_click_count%22%3A%22Downloads%22%2C%22clicks.target_url%22%3A%22Downloaded+File%22%2C%22clicks.session_count%22%3A%22Sessions%22%7D%2C%22table_theme%22%3A%22editable%22%2C%22limit_displayed_rows%22%3Afalse%2C%22limit_displayed_rows_values%22%3A%7B%22show_hide%22%3A%22hide%22%2C%22first_last%22%3A%22first%22%2C%22num_rows%22%3A0%7D%2C%22enable_conditional_formatting%22%3Afalse%2C%22conditional_formatting%22%3A%5B%7B%22type%22%3A%22low+to+high%22%2C%22value%22%3Anull%2C%22background_color%22%3Anull%2C%22font_color%22%3Anull%2C%22palette%22%3A%7B%22name%22%3A%22Red+to+Yellow+to+Green%22%2C%22colors%22%3A%5B%22%23F36254%22%2C%22%23FCF758%22%2C%22%234FBC89%22%5D%7D%2C%22bold%22%3Afalse%2C%22italic%22%3Afalse%2C%22strikethrough%22%3Afalse%2C%22fields%22%3Anull%7D%5D%2C%22conditional_formatting_include_totals%22%3Afalse%2C%22conditional_formatting_include_nulls%22%3Afalse%2C%22type%22%3A%22table%22%2C%22series_types%22%3A%7B%7D%2C%22hidden_fields%22%3A%5B%22clicks.target_url%22%2C%22clicks.download_click_count%22%5D%2C%22y_axes%22%3A%5B%5D%7D&filter_config=%7B%22clicks.click_type%22%3A%5B%7B%22type%22%3A%22%3D%22%2C%22values%22%3A%5B%7B%22constant%22%3A%22download%22%7D%2C%7B%7D%5D%2C%22id%22%3A4%2C%22error%22%3Afalse%7D%5D%7D&dynamic_fields=%5B%7B%22table_calculation%22%3A%22downloads%22%2C%22label%22%3A%22Downloads%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+traffic+to+that+page%5Cn+++%2C%24%7Bclicks.download_click_count%7D%5Cn%23+For+the+last+row%2C+display+total+traffic+minus+traffic+from+all+rows+above+this+one%5Cn+++%2C+%24%7Bclicks.download_click_count%3Atotal%7D+-+sum%28+if%28row%28%29%3D+max%28row%28%29%29+%2C+0+%2C+%24%7Bclicks.download_click_count%7D%29+%29%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3A%22decimal_0%22%2C%22_kind_hint%22%3A%22measure%22%2C%22_type_hint%22%3A%22number%22%7D%2C%7B%22table_calculation%22%3A%22of_total_downloads%22%2C%22label%22%3A%22%25+of+Total+Downloads%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+traffic+to+that+page%5Cn+++%2C%24%7Bclicks.download_click_count%7D%2F%24%7Bclicks.download_click_count%3Atotal%7D%5Cn%23+For+the+last+row%2C+display+total+traffic+minus+traffic+from+all+rows+above+this+one%5Cn+++%2C+%28%24%7Bclicks.download_click_count%3Atotal%7D+-+sum%28+if%28row%28%29%3D+max%28row%28%29%29+%2C+0+%2C+%24%7Bclicks.download_click_count%7D%29%29%29+%2F%24%7Bclicks.download_click_count%3Atotal%7D+%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3A%22percent_2%22%2C%22_kind_hint%22%3A%22measure%22%2C%22_type_hint%22%3A%22number%22%7D%2C%7B%22table_calculation%22%3A%22downloaded_file%22%2C%22label%22%3A%22Downloaded+File%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+landing+page+URL%5Cn+++%2C%24%7Bclicks.target_url%7D%5Cn%23+For+the+last+row%2C+display+%5C%22Other%5C%22%5Cn+++%2C+%5C%22Other%5C%22%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3Anull%2C%22_kind_hint%22%3A%22dimension%22%2C%22_type_hint%22%3A%22string%22%7D%5D",
    "has_table_calculations": true,
    "model": "snowplow_web_block",
    "dynamic_fields": "[{\"table_calculation\":\"downloads\",\"label\":\"Downloads\",\"expression\":\"if(\\n# For rows other than the last row\\n   row() != max(row())  \\n# Display traffic to that page\\n   ,${clicks.download_click_count}\\n# For the last row, display total traffic minus traffic from all rows above this one\\n   , ${clicks.download_click_count:total} - sum( if(row()= max(row()) , 0 , ${clicks.download_click_count}) )\\n   )\",\"value_format\":null,\"value_format_name\":\"decimal_0\",\"_kind_hint\":\"measure\",\"_type_hint\":\"number\"},{\"table_calculation\":\"of_total_downloads\",\"label\":\"% of Total Downloads\",\"expression\":\"if(\\n# For rows other than the last row\\n   row() != max(row())  \\n# Display traffic to that page\\n   ,${clicks.download_click_count}/${clicks.download_click_count:total}\\n# For the last row, display total traffic minus traffic from all rows above this one\\n   , (${clicks.download_click_count:total} - sum( if(row()= max(row()) , 0 , ${clicks.download_click_count}))) /${clicks.download_click_count:total} \\n   )\",\"value_format\":null,\"value_format_name\":\"percent_2\",\"_kind_hint\":\"measure\",\"_type_hint\":\"number\"},{\"table_calculation\":\"downloaded_file\",\"label\":\"Downloaded File\",\"expression\":\"if(\\n# For rows other than the last row\\n   row() != max(row())  \\n# Display landing page URL\\n   ,${clicks.target_url}\\n# For the last row, display \\\"Other\\\"\\n   , \\\"Other\\\"\\n   )\",\"value_format\":null,\"value_format_name\":null,\"_kind_hint\":\"dimension\",\"_type_hint\":\"string\"}]",
    "query_timezone": null,
    "quick_calcs": [

    ],
    "analysis_config": null,
    "can": {
      "run": true,
      "see_results": true,
      "explore": true,
      "create": true,
      "show": true,
      "cost_estimate": true,
      "index": true,
      "see_lookml": true,
      "see_aggregate_table_lookml": true,
      "see_derived_table_lookml": true,
      "see_sql": true,
      "save": true,
      "generate_drill_links": true,
      "download": true,
      "download_unlimited": true,
      "use_custom_fields": true,
      "edit_custom_fields": true,
      "edit_table_calculations": true,
      "schedule": true,
      "render": true
    }
  },
  "url": "/explore/snowplow_web_block/clicks?fields=clicks.target_url,clicks.download_click_count&f[clicks.click_type]=download&sorts=clicks.download_click_count+desc&limit=20&total=on&query_timezone=America%2FVancouver&vis=%7B%22show_view_names%22%3Atrue%2C%22show_row_numbers%22%3Atrue%2C%22truncate_column_names%22%3Afalse%2C%22hide_totals%22%3Atrue%2C%22hide_row_totals%22%3Afalse%2C%22series_labels%22%3A%7B%22clicks.download_click_count%22%3A%22Downloads%22%2C%22clicks.target_url%22%3A%22Downloaded+File%22%2C%22clicks.session_count%22%3A%22Sessions%22%7D%2C%22table_theme%22%3A%22editable%22%2C%22limit_displayed_rows%22%3Afalse%2C%22limit_displayed_rows_values%22%3A%7B%22show_hide%22%3A%22hide%22%2C%22first_last%22%3A%22first%22%2C%22num_rows%22%3A0%7D%2C%22enable_conditional_formatting%22%3Afalse%2C%22conditional_formatting%22%3A%5B%7B%22type%22%3A%22low+to+high%22%2C%22value%22%3Anull%2C%22background_color%22%3Anull%2C%22font_color%22%3Anull%2C%22palette%22%3A%7B%22name%22%3A%22Red+to+Yellow+to+Green%22%2C%22colors%22%3A%5B%22%23F36254%22%2C%22%23FCF758%22%2C%22%234FBC89%22%5D%7D%2C%22bold%22%3Afalse%2C%22italic%22%3Afalse%2C%22strikethrough%22%3Afalse%2C%22fields%22%3Anull%7D%5D%2C%22conditional_formatting_include_totals%22%3Afalse%2C%22conditional_formatting_include_nulls%22%3Afalse%2C%22type%22%3A%22table%22%2C%22series_types%22%3A%7B%7D%2C%22hidden_fields%22%3A%5B%22clicks.target_url%22%2C%22clicks.download_click_count%22%5D%2C%22y_axes%22%3A%5B%5D%7D&filter_config=%7B%22clicks.click_type%22%3A%5B%7B%22type%22%3A%22%3D%22%2C%22values%22%3A%5B%7B%22constant%22%3A%22download%22%7D%2C%7B%7D%5D%2C%22id%22%3A4%2C%22error%22%3Afalse%7D%5D%7D&dynamic_fields=%5B%7B%22table_calculation%22%3A%22downloads%22%2C%22label%22%3A%22Downloads%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+traffic+to+that+page%5Cn+++%2C%24%7Bclicks.download_click_count%7D%5Cn%23+For+the+last+row%2C+display+total+traffic+minus+traffic+from+all+rows+above+this+one%5Cn+++%2C+%24%7Bclicks.download_click_count%3Atotal%7D+-+sum%28+if%28row%28%29%3D+max%28row%28%29%29+%2C+0+%2C+%24%7Bclicks.download_click_count%7D%29+%29%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3A%22decimal_0%22%2C%22_kind_hint%22%3A%22measure%22%2C%22_type_hint%22%3A%22number%22%7D%2C%7B%22table_calculation%22%3A%22of_total_downloads%22%2C%22label%22%3A%22%25+of+Total+Downloads%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+traffic+to+that+page%5Cn+++%2C%24%7Bclicks.download_click_count%7D%2F%24%7Bclicks.download_click_count%3Atotal%7D%5Cn%23+For+the+last+row%2C+display+total+traffic+minus+traffic+from+all+rows+above+this+one%5Cn+++%2C+%28%24%7Bclicks.download_click_count%3Atotal%7D+-+sum%28+if%28row%28%29%3D+max%28row%28%29%29+%2C+0+%2C+%24%7Bclicks.download_click_count%7D%29%29%29+%2F%24%7Bclicks.download_click_count%3Atotal%7D+%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3A%22percent_2%22%2C%22_kind_hint%22%3A%22measure%22%2C%22_type_hint%22%3A%22number%22%7D%2C%7B%22table_calculation%22%3A%22downloaded_file%22%2C%22label%22%3A%22Downloaded+File%22%2C%22expression%22%3A%22if%28%5Cn%23+For+rows+other+than+the+last+row%5Cn+++row%28%29+%21%3D+max%28row%28%29%29++%5Cn%23+Display+landing+page+URL%5Cn+++%2C%24%7Bclicks.target_url%7D%5Cn%23+For+the+last+row%2C+display+%5C%22Other%5C%22%5Cn+++%2C+%5C%22Other%5C%22%5Cn+++%29%22%2C%22value_format%22%3Anull%2C%22value_format_name%22%3Anull%2C%22_kind_hint%22%3A%22dimension%22%2C%22_type_hint%22%3A%22string%22%7D%5D&title=Top+Downloaded+Files&look_id=245",
  "folder": {
    "name": "Co-Design Temporary files",
    "parent_id": "149",
    "id": "117",
    "content_metadata_id": "423",
    "created_at": "2019-01-09 19:26:44 UTC",
    "creator_id": "13",
    "external_id": "",
    "is_embed": false,
    "is_embed_shared_root": false,
    "is_embed_users_root": false,
    "is_personal": false,
    "is_personal_descendant": false,
    "is_shared_root": false,
    "is_users_root": false,
    "child_count": 0,
    "can": {
      "index": true,
      "show": true,
      "create": true,
      "see_admin_spaces": true,
      "save_shared_space_as_embed_user": true,
      "destroy": true,
      "update": true,
      "move_content": true,
      "edit_content": true
    }
  },
  "folder_id": "117",
  "content_favorite_id": null,
  "deleted": false,
  "embed_url": "https://analytics.gov.bc.ca/embed/public/pFyjqhrdfXkCNH7K9F2Rc2qvs82GnBCx",
  "excel_file_url": "https://analytics.gov.bc.ca/looks/pFyjqhrdfXkCNH7K9F2Rc2qvs82GnBCx.iqy?apply_formatting=true&apply_vis=true&filename=Top+Downloaded+Files",
  "google_spreadsheet_formula": "=ImportXML(\"https://analytics.gov.bc.ca/looks/pFyjqhrdfXkCNH7K9F2Rc2qvs82GnBCx.gsxml?apply_formatting=true&apply_vis=true\", \"//row\")",
  "image_embed_url": "https://analytics.gov.bc.ca/looks/pFyjqhrdfXkCNH7K9F2Rc2qvs82GnBCx.png",
  "last_viewed_at": null,
  "model": {
    "id": "snowplow_web_block",
    "label": "Snowplow Web Block"
  },
  "public": false,
  "public_slug": "pFyjqhrdfXkCNH7K9F2Rc2qvs82GnBCx",
  "public_url": "https://analytics.gov.bc.ca/looks/pFyjqhrdfXkCNH7K9F2Rc2qvs82GnBCx.txt?apply_formatting=true&apply_vis=true",
  "can": {
    "download": true,
    "download_unlimited": true,
    "index": true,
    "show": true,
    "copy": true,
    "run": true,
    "create": true,
    "explore": true,
    "move": true,
    "update": true,
    "destroy": true,
    "recover": true,
    "update_publicity": true,
    "show_errors": true,
    "find_and_replace": true,
    "schedule": true,
    "render": true
  }
}